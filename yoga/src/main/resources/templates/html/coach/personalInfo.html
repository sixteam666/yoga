<!DOCTYPE html>
<html xmlns:th="http://www.thymaleaf.org">
<head>
<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>基本信息修改</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Website Template by FreeHTML5.co" />
	<meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
	<meta name="author" content="FreeHTML5.co" />

	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="../../css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="../../css/icomoon.css">
	<!-- Themify Icons-->
	<link rel="stylesheet" href="../../css/themify-icons.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="../../css/bootstrap.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="../../css/magnific-popup.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="../../css/bootstrap-datepicker.min.css">

	<!-- Owl Carousel  -->
	<link rel="stylesheet" href="../../css/owl.carousel.min.css">
	<link rel="stylesheet" href="../../css/owl.theme.default.min.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="../../css/style.css">

	<!-- Modernizr JS -->
	<script src="../../js/modernizr-2.6.2.min.js"></script>

	<style type="text/css">
		.fon{
			font-family: "微软雅黑";
		}
		.preview{
			z-index: 1;
		}
		img{
			width: 100px;
			height: 100px;
		}
		.file {
			position: absolute;
			display: block;
			width: 100px;
			height: 100px;
			background: #9acd32;
			overflow: hidden;
			z-index: 2;
			margin-left: 325px;
			margin-top: -100px;
			opacity:0;/*透明度设置*/
		}
		.file input {
			position: absolute;
			font-size: 75px;
			right: 0;
			top: 0;
			opacity: 0
		}
	</style>
</head>
<body>
	
	<div th:replace="/html/coach/showGym.html::coach_header"></div>

	<div style="height:100px"></div>
	<div class="col-md-8 col-md-offset-2 text-left text-center">
		<h3>基本信息修改</h3>
	</div>
	<form class="col-md-6 col-md-offset-3" action="/coach/updatePersonalInfo.do" method="post" enctype="multipart/form-data">
		<table class="table table-hover">
			<tr align="center">
				<td colspan="2">
					<div class="headimg_img preview">
						<img src="image/1.jpg" th:src="@{/image/headImg/}+${personalInfo.c_headimg}"/> 
					</div>
					<div class="headimg_file">
						<a href="javascript:;" class="file">
							<span>选择文件</span>
							<input type="file" name="file" onchange="preview(this)" />
						</a>
						<div style="font-size: 10px;">点击图片更换头像</div>
						<!--<input type="file" name="file" id="input_headimg" placeholder="" multiple="multiple"/>-->
					</div>
				</td>
			</tr>
			<tr>
				<td align="right">昵称：</td>
				<td align="left">
					<input th:value="${personalInfo.c_nickname}" name="c_nickname">
				</td>
			</tr>
			<tr align="center">
				<td align="right">手机号：</td>
				<td align="left">
					<input id="c_phone" th:value="${personalInfo.c_phone}" name="c_phone" data-toggle="modal" data-target="#myModal2">
				</td>
			</tr>
			<tr align="center">
				<td align="right">QQ号：</td>
				<td align="left">
					<input th:value="${personalInfo.c_qq}" name="c_qq">
				</td>
			</tr>
			<tr align="center">
				<td align="right">地址：</td>
				<td align="left">
					<input th:value="${personalInfo.c_address}" name="c_address">
				</td>
			</tr>
			<tr align="center">
				<td align="right">资料是否公开:</td>
				<td align="left">
					<select name="c_privacy" >
						<option value="2" th:selected="${personalInfo.c_privacy == 2}">保密</option>
						<option value="1" th:selected="${personalInfo.c_privacy == 1}">仅好友可见</option>
						<option value="0" th:selected="${personalInfo.c_privacy == 0}">完全公开</option>
					</select>
				</td>
			</tr>
			<tr align="center">
				<td colspan="2">
					<input class="btn btn-primary" type="submit" value="保存">
					<input class="btn btn-primary" type="button" value="返回" onclick="history.back(-1)">
				</td>
			</tr>
		</table>
	</form>
	
	<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">  
	    <div class="modal-dialog" role="document">  
	        <div class="modal-content">  
	            <div class="modal-header">  
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">  
	                    <span aria-hidden="true">×</span>  
	                </button>  
	                <h4 class="modal-title" id="myModalLabel">更换手机号</h4>  
	            </div>  
	            <div class="modal-body">
	            	<label for="newPhone">新的手机号：</label><input id="newPhone" type="text"><br>
	            	<label for="phoneCode">请输入验证码</label><input id="phoneCode" type="text" onblur="check()">
	            </div>  
	            <div class="modal-footer">  
	                <button id="aa" type="button" class="btn btn-primary" onclick="changePhone()" >确定</button>  
	                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>  
	            </div>  
	        </div>  
	    </div>  
	</div> 
	
	<script src="../../js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="../../js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="../../js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="../../js/jquery.waypoints.min.js"></script>
	<!-- Carousel -->
	<script src="../../js/owl.carousel.min.js"></script>
	<!-- countTo -->
	<script src="../../js/jquery.countTo.js"></script>
	<!-- Stellar Parallax -->
	<script src="../../js/jquery.stellar.min.js"></script>
	<!-- Magnific Popup -->
	<script src="../../js/jquery.magnific-popup.min.js"></script>
	<script src="../../js/magnific-popup-options.js"></script>
	<!-- Datepicker -->
	<script src="../../js/bootstrap-datepicker.min.js"></script>
	<!-- Main -->
	<script src="../../js/main.js"></script>
	<script>
		var prevDiv = document.getElementsByClassName('preview')[0];
		var OFile = document.getElementsByClassName('file')[0];
		
		function preview(file) { //预览图片得到图片base64
			
			if(file.files && file.files[0]) {
				var reader = new FileReader();
				reader.onload = function(evt) {
					prevDiv.innerHTML = '<img src="' + evt.target.result + '" alt="Image"/>';
				}
				reader.readAsDataURL(file.files[0]);
			} 
		}
	
		function changePhone() {
			var newPhone = $("#newPhone").val();	
			$("#c_phone").val(newPhone);
			$("#aa").attr("data-dismiss","modal");
		}
		
	</script>
</body>
</html>