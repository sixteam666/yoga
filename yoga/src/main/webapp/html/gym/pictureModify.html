<!DOCTYPE HTML>
<html >
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>修改信息</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Website Template by FreeHTML5.co" />
	<meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
	<meta name="author" content="FreeHTML5.co" />

	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="../../css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="../../css/icomoon.css">
	<!-- Themify Icons-->
	<link rel="stylesheet" href="../../css/themify-icons.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="../../css/bootstrap.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="../../css/magnific-popup.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="../../css/bootstrap-datepicker.min.css">

	<!-- Owl Carousel  -->
	<link rel="stylesheet" href="../../css/owl.carousel.min.css">
	<link rel="stylesheet" href="../../css/owl.theme.default.min.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="../../css/style.css">

	<!-- Modernizr JS -->
	<script src="../../js/modernizr-2.6.2.min.js"></script>

	</head>
	<style type="text/css">
		.fon{
			font-family: "微软雅黑";
		}
	
		td{
			width: 250px;
			height: 250px;
		}
		/*.fh5co-card-item img{
			width: 200px;
			height: 250px;
		}*/
		.btn{
			width: 300px;
			margin-top: 50px;
			margin-left: 540px;
		}
	</style>
	
	
	<style>
		.preview{
			
			width: 200px;
			height: 250px;
			margin-left: 50PX;
		}
		
		.preview img {
			width: 100%;
			height: 100%;
		}
		
		.imgshow{
			z-index: 1;
		}
		
		.file {
			position: absolute;
			display: block;
			width: 200px;
			height: 250px;
			background: #9acd32;
			overflow: hidden;
			z-index: 2;
			top: 50px;
			left: 65px;
			opacity:0;/*透明度设置*/
		}
		.file input {
			position: absolute;
			font-size: 75pt;
			right: 0;
			top: 0;
			opacity: 0
		}
	</style>
	
	<body>
		
	<div class="gtco-loader"></div>
	
	<div id="page">

	<nav class="gtco-nav" role="navigation">
		<div class="gtco-container">
			
			<div class="row" style="background-color:#09C6AB ;">
				<div class="col-sm-4 col-xs-12">
					<ul>
						<li><a href="gym.html" class="fon">首页</a></li>
						<li><a href="showCoach.html" class="fon">教练</a></li>
						<li><a href="showStudent.html" class="fon">学员</a></li>
					</ul>
				</div>
				<div class="col-xs-8 text-right menu-1">
					<ul>
						<li class="has-dropdown">
							<span style="color: white;">欢迎您，用户名</span>
							<a href="#">注销</a>
						</li>
						<li class="has-dropdown">
							<a href="#">场馆中心</a>
							<ul class="dropdown">
								<li><a href="/html/gym/index.html">场馆展示</a></li>
								<li><a href="/gym/showMessage.do">场馆资料</a></li>
								<li><a href="/html/gym/lesson.html">课程安排</a></li>
								<li><a href="/html/gym/wallet.html">我的钱包</a></li>
								<li><a href="/html/gym/myCoach.html">我的签约教练</a></li>
								<li><a href="/gym/findCoachByMyResponse.do">我的通知</a></li>
							</ul>
						</li>
					</ul>	
			</div>
			</div>
			
		</div>
	</nav>
	
	
	
	<div class="gtco-section">
		<form action="/gym/updatePictures.do" method="post" enctype="multipart/form-data">
			<div class="gtco-container">
				<div class="row">
					<div class="col-md-8 col-md-offset-2 text-center gtco-heading">
						<h2>场馆风采展示</h2>
						
					</div>
				</div>
			
				<div class="row showPicture">
					<!-- <div class="col-lg-4 col-md-4 col-sm-6">
						<a href="javascript:;" class="file">
							<span>选择文件</span>
							<input type="file" onchange="preview(this)" />
						</a>
						<span class="fh5co-card-item imgshow" style="height: 350px;width: 300px;">
							<figure style="text-align: center;top:50px">
								<div class="preview">
									<img src="/html/gym/image/1.jpg" alt="Image">
								</div>
							</figure>
						</span>
					</div>
					
					<div class="col-lg-4 col-md-4 col-sm-6">
						<a href="javascript:;" class="file">
							<span>选择文件</span>
							<input type="file" onchange="preview(this)" />
						</a>
						<span class="fh5co-card-item imgshow" style="height: 350px;width: 300px;">
							<figure style="text-align: center;top:50px">
								<div class="preview">
									<img src="/html/gym/image/1.jpg" alt="Image">
								</div>
							</figure>
						</span>
					</div>
					 -->
					
				</div>
			</div>
			
			<button class="btn btn-primary " type="submit">上传替换图片</button>
		</form>	
	</div>	
	
			
	<footer id="gtco-footer" role="contentinfo">
		<div class="gtco-container">
			<div class="row row-p	b-md">

				<div class="col-md-4">
					<div class="gtco-widget">
						<h3>关于我们</h3>
						<p>蜗牛46期第六组项目，由项目负责人温攀，会长文然，技术负责人黄仁杰，产品经理滕伟，后台管理刘勇，前端张正宇负责</p>
					</div>
				</div>

				<div class="col-md-2 col-md-push-1"></div>
				
				<div class="col-md-3 col-md-push-1">
					<div class="gtco-widget">
						<h3>联系方式</h3>
						<ul class="gtco-quick-contact">
							<li><a href="#"><i class="icon-phone"></i> 15002881866</a></li>
							<li><a href="#"><i class="icon-mail2"></i> shinoda@live.cn</a></li>
							<li><a href="#"><i class="icon-chat"></i> Zzy19951117</a></li>
						</ul>
					</div>
				</div>

			</div>

			<div class="row copyright">
				<div class="col-md-12">
					<p class="pull-left">
						<small class="block">&copy; 2019 在蜗牛46期写出来的.</small> 
						<small class="block">模板都是网上找的，描述都是自己瞎BB的</small>
					</p>
					<p class="pull-right">
						<ul class="gtco-social-icons pull-right">
							<li><a href="#"><i class="icon-twitter"></i></a></li>
							<li><a href="#"><i class="icon-facebook"></i></a></li>
							<li><a href="#"><i class="icon-linkedin"></i></a></li>
							<li><a href="#"><i class="icon-dribbble"></i></a></li>
						</ul>
					</p>
				</div>
			</div>

		</div>
	</footer>

	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
		<!-- jQuery -->
	<script src="../../js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="../../js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="../../js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="../../js/jquery.waypoints.min.js"></script>
	<!-- Carousel -->
	<script src="../../js/owl.carousel.min.js"></script>
	<!-- countTo -->
	<script src="../../js/jquery.countTo.js"></script>

	<!-- Stellar Parallax -->
	<script src="../../js/jquery.stellar.min.js"></script>

	<!-- Magnific Popup -->
	<script src="../../js/jquery.magnific-popup.min.js"></script>
	<script src="../../js/magnific-popup-options.js"></script>
	
	<!-- Datepicker -->
	<script src="../../js/bootstrap-datepicker.min.js"></script>

	<!-- Main -->
	<script src="../../js/main.js"></script>
	
	<script>
		function showPictures(p_type){
			$.ajax({
				type:"get",
				async:false,
				url:"/gym/showPictures.do",
				data:"p_type="+p_type, 
				success:function(mes){
					console.info(mes);
					str = "";
					if (mes.length>0 && mes!="") {
						for(var i=0;i<mes.length;i++){
							str+="<div class='col-lg-4 col-md-4 col-sm-6'>"+
							"<input type='hidden' id='hid' name='p_id' value='"+mes[i].p_id+"'>"+
							"<a href='javascript:;' class='file'>"+
								"<span>选择文件</span>"+
								"<input type='file' onchange='preview(this)' name='file'/>"+
							"</a>"+
							"<span class='fh5co-card-item imgshow' style='height: 350px;width: 300px;'>"+
								"<figure style='text-align: center;top:50px'>"+
									"<div class='preview'>"+
										"<img src='/image/gymImg/"+mes[i].p_imgname+"' alt='Image'>"+
									"</div>"+
								"</figure>"+
							"</span>"+
						"</div>";
						}
					}
					$(".showPicture").html(str);
				}
			});
		}
		showPictures(1) 
		
		var OPrevDiv = document.getElementsByClassName('preview');
		var OFile = document.getElementsByClassName('file');
		var prevDiv = OPrevDiv[0];
		var id = 0;
		var map = {};
		for(var i = 0; i < OFile.length; i++){
			(function(i){
				OFile[i].onclick = function(){
					//alert('当前点击第'+ i+'个');
					id = $(OFile[i]).prev().val();
					prevDiv = OPrevDiv[i];
				}
			})(i);
		}
		function preview(file) { //预览图片得到图片base64
			if(file.files && file.files[0]) {
				var reader = new FileReader();
				reader.onload = function(evt) {
					prevDiv.innerHTML = '<img src="' + evt.target.result + '" alt="Image"/>';
					map[id] = file.files[0];
					console.info(map) 
				}
				reader.readAsDataURL(file.files[0]);
			} 
		}
	
		/* function updatePictures(){
			$.ajax({
				url:"/gym/updatePictures.do",
				data:JSON.stringify(map),
			    type:"post",
			    dataType:"json",
			    contentType:"application/json",
				success:function(mes){
					console.info(mes);
					
				}
			});
		} */
		
	</script>
	</body>
</html>

